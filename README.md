# 基金从业资格证答题悬浮软件

一个运行在 macOS 上的悬浮窗答题软件，支持基金从业资格证考试题目练习。

## 功能特点

- 🪟 **桌面悬浮**：窗口始终置顶，类似网易云音乐歌词悬浮效果
- 📖 **题目轮播**：支持手动翻页和语音朗读自动轮播功能
- 🔊 **语音朗读**：自动轮播时自动朗读题目、答案和解析，朗读完成后自动切换下一题
- ✅ **答题功能**：可以选择答案，然后查看正确答案和解析
- 👀 **直接查看**：也可以直接查看答案，无需选择
- 🎨 **现代化UI**：美观的半透明界面设计
- 🖱️ **拖拽移动**：可以拖动窗口到任意位置

## 安装依赖

### 方法1：使用虚拟环境（推荐）

```bash
# 创建虚拟环境
python3 -m venv .venv

# 激活虚拟环境
source .venv/bin/activate

# 安装依赖（如果网络较慢，可以使用国内镜像源）
pip install -r requirements.txt
# 或者使用清华镜像源：pip install -i https://pypi.tuna.tsinghua.edu.cn/simple -r requirements.txt
```

### 方法2：如果遇到网络连接问题

使用国内镜像源安装：

```bash
# 激活虚拟环境
source .venv/bin/activate

# 使用清华镜像源
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple PyQt6

# 或者使用阿里云镜像源
pip install -i https://mirrors.aliyun.com/pypi/simple/ PyQt6
```

或者直接运行安装脚本：

```bash
./install.sh
```

## 使用方法

### 快速启动（推荐）

直接运行启动脚本：

```bash
./run.sh
```

### 手动启动

1. 确保已安装 Python 3.7 或更高版本
2. 激活虚拟环境：
   ```bash
   source .venv/bin/activate
   ```
3. 运行程序：
   ```bash
   python3 main.py
   ```
   或者：
   ```bash
   python main.py
   ```

## 题目数据格式

题目数据存储在 `questions.json` 文件中，格式如下：

```json
[
    {
        "id": "55",
        "title": "题目内容",
        "options": {
            "A": "选项A内容",
            "B": "选项B内容",
            "C": "选项C内容",
            "D": "选项D内容"
        },
        "answer": "B",
        "analysis": "题目解析内容"
    }
]
```

## 功能说明

- **上一题/下一题**：手动切换题目
- **查看答案**：显示正确答案和详细解析，如果已选择答案会显示是否正确
- **自动轮播（语音模式）**：开启后自动朗读当前题目的题目、选项、答案和解析，朗读完成后自动切换到下一题
  - 朗读格式：题目：xxx，选项：A xxx，B xxx...，答案：yyy，解析：xxxx
  - 朗读完成后会有短暂停顿，然后自动切换
  - 可以随时点击"停止轮播"停止自动朗读
- **拖拽移动**：点击标题栏区域可以拖动窗口

## 语音朗读说明

- 程序使用系统自带的文本转语音（TTS）引擎
- 在 macOS 上会自动检测并使用可用的语音引擎
- 如果语音引擎不可用，会自动降级为定时器模式（3秒切换）
- 可以在系统设置中调整语音参数（语速、音调等）

## 注意事项

- 首次运行时，窗口会出现在屏幕右上角
- 窗口大小固定为 450x550 像素
- 支持 macOS 系统（使用 PyQt6 框架）

